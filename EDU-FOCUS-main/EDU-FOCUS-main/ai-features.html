<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Features - EduFocus</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/ai-features.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <style>
        :root {
            --bg-color: #0f0f1e;
            --surface-color: #1e1e2e;
            --text-color: #ffffff;
            --secondary-text: #b4b4b4;
            --accent-color: #6c5ce7;
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.2);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        body {
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .section-header h2 {
            color: var(--text-color);
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .section-header p {
            color: var(--secondary-text);
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .ai-assistant-layout {
                grid-template-columns: 1fr !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-graduation-cap"></i>
                <span>EduFocus</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="#ai-assistant" class="nav-link active">AI Assistant</a>
                </li>
                <li class="nav-item">
                    <a href="#video-summarizer" class="nav-link">Video Summary</a>
                </li>
                <li class="nav-item">
                    <a href="#text-to-speech" class="nav-link">Text-to-Speech</a>
                </li>
                <li class="nav-item">
                    <a href="#recommendations" class="nav-link">Recommendations</a>
                </li>
                <li class="nav-item">
                    <a href="#study-guide" class="nav-link">Study Guides</a>
                </li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" style="margin-top: 80px; padding: 2rem;">
        <!-- AI Assistant Section -->
        <section id="ai-assistant" class="section active" style="display: block;">
            <div class="section-header">
                <h2><i class="fas fa-robot"></i> AI Study Assistant</h2>
                <p>Ask questions about your study materials and get instant answers</p>
            </div>

            <div class="ai-assistant-layout" style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; margin-top: 2rem;">
                <div class="chat-container">
                    <div class="chat-header">
                        <h3><i class="fas fa-comments"></i> Chat</h3>
                        <button id="clear-chat" class="btn btn-secondary btn-small">
                            <i class="fas fa-trash"></i> Clear
                        </button>
                    </div>
                    <div id="chat-messages"></div>
                    <div class="chat-input-container">
                        <textarea id="chat-input" placeholder="Ask me anything about your studies..." rows="2"></textarea>
                        <button id="send-chat" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>

                <div class="uploaded-materials" style="background: var(--surface-color, #1e1e2e); padding: 1.5rem; border-radius: 12px;">
                    <h3><i class="fas fa-folder-open"></i> Uploaded Materials</h3>
                    <button id="upload-material" class="btn btn-secondary" style="width: 100%; margin-bottom: 1rem;">
                        <i class="fas fa-upload"></i> Upload Material
                    </button>
                    <input type="file" id="material-input" accept=".pdf,.txt,.doc,.docx" hidden>
                    <div id="uploaded-materials-list"></div>
                </div>
            </div>
        </section>

        <!-- Video Summarizer Section -->
        <section id="video-summarizer" class="section" style="display: none;">
            <div class="section-header">
                <h2><i class="fab fa-youtube"></i> Video Summarizer</h2>
                <p>Get AI-powered summaries of YouTube educational videos</p>
            </div>

            <div class="video-input-section">
                <h3>Enter YouTube URL</h3>
                <div class="video-input-group">
                    <input type="text" id="video-url-input" placeholder="https://www.youtube.com/watch?v=..." />
                    <button id="summarize-video-btn" class="btn btn-primary" disabled>
                        <i class="fas fa-magic"></i> Summarize
                    </button>
                </div>
                <div id="video-error-message" style="display: none; color: #e74c3c; margin-top: 1rem;"></div>
            </div>

            <div id="video-summary-results" style="display: none;">
                <div id="video-summary-content"></div>
            </div>

            <div class="video-summary-section">
                <h3>Recent Summaries</h3>
                <div id="video-summary-history" class="video-summary-history"></div>
            </div>
        </section>

        <!-- Text-to-Speech Section -->
        <section id="text-to-speech" class="section" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-volume-up"></i> Text-to-Speech</h2>
                <p>Convert your notes and summaries to audio</p>
            </div>

            <div class="tts-container">
                <div class="tts-input-area">
                    <textarea id="tts-text-input" placeholder="Paste your text here to convert to speech..."></textarea>
                    <button id="tts-speak-btn" class="btn btn-primary" style="margin-top: 1rem;">
                        <i class="fas fa-play"></i> Start Reading
                    </button>
                </div>

                <div class="tts-controls">
                    <button id="tts-play" class="btn btn-secondary" disabled>
                        <i class="fas fa-play"></i>
                    </button>
                    <button id="tts-pause" class="btn btn-secondary" disabled>
                        <i class="fas fa-pause"></i>
                    </button>
                    <button id="tts-stop" class="btn btn-secondary" disabled>
                        <i class="fas fa-stop"></i>
                    </button>
                    <span id="tts-status" style="margin-left: 1rem; color: var(--text-color);">Ready</span>
                </div>

                <div class="tts-settings">
                    <div class="tts-setting">
                        <label for="tts-voice-select">Voice</label>
                        <select id="tts-voice-select"></select>
                    </div>
                    <div class="tts-setting">
                        <label for="tts-rate">Speed: <span id="rate-value">1.0</span></label>
                        <input type="range" id="tts-rate" class="tts-slider" min="0.5" max="2" step="0.1" value="1">
                    </div>
                    <div class="tts-setting">
                        <label for="tts-pitch">Pitch: <span id="pitch-value">1.0</span></label>
                        <input type="range" id="tts-pitch" class="tts-slider" min="0.5" max="2" step="0.1" value="1">
                    </div>
                    <div class="tts-setting">
                        <label for="tts-volume">Volume: <span id="volume-value">100%</span></label>
                        <input type="range" id="tts-volume" class="tts-slider" min="0" max="1" step="0.1" value="1">
                    </div>
                </div>
            </div>
        </section>

        <!-- Smart Recommendations Section -->
        <section id="recommendations" class="section" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-lightbulb"></i> Smart Recommendations</h2>
                <p>AI-powered study suggestions based on your performance</p>
            </div>

            <div class="recommendations-container">
                <div id="performance-summary" class="performance-summary">
                    <h3><i class="fas fa-chart-line"></i> Your Performance</h3>
                    <!-- Will be populated by JavaScript -->
                </div>

                <div class="recommendations-section">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3>Personalized Recommendations</h3>
                        <button id="refresh-recommendations" class="btn btn-secondary btn-small">
                            <i class="fas fa-sync"></i> Refresh
                        </button>
                    </div>
                    <div id="recommendations-list"></div>
                </div>
            </div>
        </section>

        <!-- Study Guide Generator Section -->
        <section id="study-guide" class="section" style="display: none;">
            <div class="section-header">
                <h2><i class="fas fa-book-open"></i> Study Guide Generator</h2>
                <p>Generate comprehensive study guides from any topic or material</p>
            </div>

            <div class="guide-input-section">
                <h3>Create Study Guide</h3>
                <input type="text" id="guide-topic-input" placeholder="Enter topic (e.g., Photosynthesis, World War II, Calculus...)" style="width: 100%; padding: 1rem; border: 2px solid var(--border-color); border-radius: 8px; background: var(--bg-color); color: var(--text-color); font-size: 1rem; margin: 1rem 0;">

                <h4 style="margin: 1.5rem 0 0.5rem;">Choose Format</h4>
                <div class="format-options">
                    <div class="format-option selected" data-format="comprehensive">
                        <i class="fas fa-book"></i>
                        <div>Comprehensive</div>
                    </div>
                    <div class="format-option" data-format="quick">
                        <i class="fas fa-bolt"></i>
                        <div>Quick Reference</div>
                    </div>
                    <div class="format-option" data-format="flashcards">
                        <i class="fas fa-layer-group"></i>
                        <div>Flashcards</div>
                    </div>
                    <div class="format-option" data-format="mindmap">
                        <i class="fas fa-project-diagram"></i>
                        <div>Mind Map</div>
                    </div>
                </div>

                <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                    <button id="generate-guide-btn" class="btn btn-primary">
                        <i class="fas fa-magic"></i> Generate Study Guide
                    </button>
                    <button id="upload-guide-material" class="btn btn-secondary">
                        <i class="fas fa-upload"></i> Upload Material
                    </button>
                </div>
                <input type="file" id="guide-file-input" accept=".pdf,.txt,.doc,.docx" hidden>
            </div>

            <div id="study-guide-results" style="display: none;">
                <div id="study-guide-content"></div>
            </div>

            <div class="guides-section" style="margin-top: 3rem;">
                <h3>Your Study Guides</h3>
                <div id="guides-history-list" class="guides-history-list"></div>
            </div>
        </section>
    </main>

    <!-- Scripts -->
    <script src="js/session-check.js"></script>
    <script src="js/theme-manager.js"></script>
    <script src="js/ai-assistant.js"></script>
    <script src="js/video-summarizer.js"></script>
    <script src="js/text-to-speech.js"></script>
    <script src="js/smart-recommendations.js"></script>
    <script src="js/study-guide-generator.js"></script>
    
    <script>
        // Navigation handling
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.getAttribute('href').substring(1);
                
                // Hide all sections
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                    section.style.display = 'none';
                });
                
                // Show target section
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.classList.add('active');
                    targetSection.style.display = 'block';
                }
                
                // Update active nav link
                document.querySelectorAll('.nav-link').forEach(l => {
                    l.classList.remove('active');
                });
                link.classList.add('active');
                
                // Close mobile menu
                const hamburger = document.querySelector('.hamburger');
                const navMenu = document.querySelector('.nav-menu');
                if (hamburger && navMenu) {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }
            });
        });

        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        
        hamburger.addEventListener('click', () => {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
        });
    </script>
</body>
</html>
