<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Tools - EDU-FOCUS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/study-tools.css">
    <style>
        body {
            background: var(--bg-color);
            color: var(--text-color);
        }

        :root {
            --bg-color: #0f0f1e;
            --surface-color: #1e1e2e;
            --text-color: #e0e0e0;
            --accent-color: #6c5ce7;
            --accent-light: #a29bfe;
            --border-color: #2d2d3d;
            --success-color: #00b894;
            --danger-color: #d63031;
            --warning-color: #fdcb6e;
        }

        .navbar {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar h1 {
            margin: 0;
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            margin: 0;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            transform: translateY(-2px);
            opacity: 0.8;
        }

        .main-container {
            margin-top: 80px;
            padding: 2rem;
        }

        .tabs-container {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border-color);
            overflow-x: auto;
        }

        .tab-btn {
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            color: var(--accent-light);
            cursor: pointer;
            font-size: 1rem;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab-btn.active {
            color: var(--accent-color);
            border-bottom-color: var(--accent-color);
        }

        .tab-btn:hover {
            color: var(--accent-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .section-wrapper {
            background: var(--surface-color);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-color);
            text-decoration: none;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .back-link:hover {
            transform: translateX(-5px);
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <h1>üéì Study Tools</h1>
        <ul class="nav-links">
            <li><a href="index.html">‚Üê Dashboard</a></li>
            <li><a href="ai-features.html">ü§ñ AI Features</a></li>
            <li><a href="study-tools.html" class="active">üìö Study Tools</a></li>
        </ul>
    </nav>

    <div class="main-container">
        <!-- Tabs Navigation -->
        <div class="tabs-container">
            <button class="tab-btn active" onclick="switchTab('pomodoro')">‚è≤Ô∏è Pomodoro</button>
            <button class="tab-btn" onclick="switchTab('planner')">üìÖ Study Planner</button>
            <button class="tab-btn" onclick="switchTab('flashcards')">üìá Flashcards</button>
            <button class="tab-btn" onclick="switchTab('quizzes')">üìù Quizzes</button>
            <button class="tab-btn" onclick="switchTab('mindmap')">üß† Mind Maps</button>
            <button class="tab-btn" onclick="switchTab('notes')">üìì Notes</button>
            <button class="tab-btn" onclick="switchTab('music')">üéµ Study Music</button>
            <button class="tab-btn" onclick="switchTab('breaks')">‚è∞ Break Reminders</button>
            <button class="tab-btn" onclick="switchTab('practice')">üí™ Practice Problems</button>
        </div>

        <!-- Pomodoro Timer Tab -->
        <div id="pomodoro" class="tab-content active">
            <div class="section-wrapper">
                <div class="pomodoro-container">
                    <h2>‚è≤Ô∏è Pomodoro Timer</h2>
                    <p>Boost your productivity with customizable work and break intervals.</p>
                    
                    <div id="timerDisplay">25:00</div>
                    <p id="phaseLabel">Work Session</p>

                    <div class="timer-settings">
                        <div class="setting-item">
                            <label>Work Duration (minutes):</label>
                            <input type="number" id="workInput" min="5" max="60" value="25" class="setting-input">
                        </div>
                        <div class="setting-item">
                            <label>Break Duration (minutes):</label>
                            <input type="number" id="breakInput" min="1" max="30" value="5" class="setting-input">
                        </div>
                    </div>

                    <div class="timer-controls">
                        <button id="startBtn">‚ñ∂ Start</button>
                        <button id="pauseBtn" disabled>‚è∏ Pause</button>
                        <button id="resetBtn">‚Üª Reset</button>
                        <button id="skipBtn">‚è≠ Skip Phase</button>
                    </div>

                    <div id="pomodoroStats" class="pomodoroStats"></div>

                    <p style="text-align: center; margin-top: 2rem; color: var(--accent-light);">
                        ‚ú® Focus intensely, take breaks regularly, and build unstoppable study habits!
                    </p>
                </div>
            </div>
        </div>

        <!-- Study Planner Tab -->
        <div id="planner" class="tab-content">
            <div class="section-wrapper" id="plannerContainer"></div>
        </div>

        <!-- Flashcards Tab -->
        <div id="flashcards" class="tab-content">
            <div class="section-wrapper">
                <div id="decksList"></div>
                <div id="deckContent" style="display: none;"></div>

                <!-- Create Deck Modal -->
                <div id="deckModal" class="session-modal">
                    <div class="modal-content">
                        <span class="modal-close" id="closeDeckModal">&times;</span>
                        <h2>Create New Deck</h2>
                        <form id="deckForm">
                            <div class="form-group">
                                <label>Deck Name:</label>
                                <input type="text" id="deckName" required>
                            </div>
                            <div class="form-group">
                                <label>Description:</label>
                                <textarea id="deckDescription" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn-primary">Create Deck</button>
                        </form>
                    </div>
                </div>

                <!-- Add Card Modal -->
                <div id="cardModal" class="session-modal">
                    <div class="modal-content">
                        <span class="modal-close" id="closeCardModal">&times;</span>
                        <h2>Add Card to Deck</h2>
                        <form id="cardForm">
                            <div class="form-group">
                                <label>Question:</label>
                                <textarea id="cardQuestion" rows="3" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Answer:</label>
                                <textarea id="cardAnswer" rows="3" required></textarea>
                            </div>
                            <div class="form-group">
                                <label>Difficulty:</label>
                                <select id="cardDifficulty">
                                    <option value="Easy">Easy</option>
                                    <option value="Medium" selected>Medium</option>
                                    <option value="Hard">Hard</option>
                                </select>
                            </div>
                            <button type="submit" class="btn-primary">Add Card</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quizzes Tab -->
        <div id="quizzes" class="tab-content">
            <div class="section-wrapper">
                <div id="quizzesList"></div>
                <div id="quizContent" style="display: none;"></div>

                <!-- Generate Quiz Modal -->
                <div id="generateModal" class="session-modal">
                    <div class="modal-content">
                        <span class="modal-close" id="closeGenerateModal">&times;</span>
                        <h2>Generate New Quiz</h2>
                        <form id="generateForm">
                            <div class="form-group">
                                <label>Topic/Subject:</label>
                                <select id="quizTopic" required>
                                    <option value="">Select a topic</option>
                                    <option value="Mathematics">Mathematics</option>
                                    <option value="Science">Science</option>
                                    <option value="History">History</option>
                                    <option value="English">English</option>
                                    <option value="Programming">Programming</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Difficulty Level:</label>
                                <select id="quizDifficulty" required>
                                    <option value="Easy">Easy</option>
                                    <option value="Medium" selected>Medium</option>
                                    <option value="Hard">Hard</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Number of Questions:</label>
                                <input type="number" id="questionCount" min="5" max="20" value="5" required>
                            </div>
                            <button type="submit" class="btn-primary">Generate Quiz</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mind Maps Tab -->
        <div id="mindmap" class="tab-content">
            <div class="section-wrapper">
                <div id="mapsList"></div>
                <div id="mapContent" style="display: none;"></div>

                <!-- Create Map Modal -->
                <div id="mapModal" class="session-modal">
                    <div class="modal-content">
                        <span class="modal-close" id="closeMapModal">&times;</span>
                        <h2>Create New Mind Map</h2>
                        <form id="mapForm">
                            <div class="form-group">
                                <label>Central Concept:</label>
                                <input type="text" id="mapTitle" required>
                            </div>
                            <div class="form-group">
                                <label>Description:</label>
                                <textarea id="mapDescription" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn-primary">Create Map</button>
                        </form>
                    </div>
                </div>

                <!-- Add Node Modal -->
                <div id="nodeModal" class="session-modal">
                    <div class="modal-content">
                        <span class="modal-close" id="closeNodeModal">&times;</span>
                        <h2>Add Concept Node</h2>
                        <form id="nodeForm">
                            <div class="form-group">
                                <label>Concept Name:</label>
                                <input type="text" id="nodeName" required>
                            </div>
                            <div class="form-group">
                                <label>Parent Concept:</label>
                                <select id="parentNode"></select>
                            </div>
                            <div class="form-group">
                                <label>Color:</label>
                                <input type="color" id="nodeColor" value="#6c5ce7">
                            </div>
                            <button type="submit" class="btn-primary">Add Node</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Tab -->
        <div id="notes" class="tab-content">
            <div class="section-wrapper">
                <div id="notesList"></div>
                <div id="noteEditor" style="display: none;"></div>
            </div>
        </div>

        <!-- Study Music Tab -->
        <div id="music" class="tab-content">
            <div class="section-wrapper">
                <div id="musicPlayer"></div>
            </div>
        </div>

        <!-- Break Reminders Tab -->
        <div id="breaks" class="tab-content">
            <div class="section-wrapper">
                <div id="breakReminder"></div>
            </div>
        </div>

        <!-- Practice Problems Tab -->
        <div id="practice" class="tab-content">
            <div class="section-wrapper">
                <div id="problemsList"></div>
                <div id="problemViewer" style="display: none;"></div>
            </div>
        </div>

    </div>

    <!-- Scripts -->
    <script src="js/session-check.js"></script>
    <script src="js/theme-manager.js"></script>
    <script src="js/pomodoro-timer.js"></script>
    <script src="js/study-planner.js"></script>
    <script src="js/flashcard-system.js"></script>
    <script src="js/quiz-generator.js"></script>
    <script src="js/mind-mapper.js"></script>
    <script src="js/note-taker.js"></script>
    <script src="js/study-music.js"></script>
    <script src="js/smart-break-reminders.js"></script>
    <script src="js/practice-problems.js"></script>

    <script>
        // Tab switching functionality
        function switchTab(tabName) {
            // Hide all tabs
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected tab
            const selectedTab = document.getElementById(tabName);
            if (selectedTab) {
                selectedTab.classList.add('active');
                event.target.classList.add('active');
            }
        }

        // Initialize Study Planner in its container
        document.addEventListener('DOMContentLoaded', () => {
            const plannerContainer = document.getElementById('plannerContainer');
            if (plannerContainer && !document.getElementById('sessionsList')) {
                plannerContainer.innerHTML = `
                    <h2>üìÖ Study Session Planner</h2>
                    <p>Schedule and organize your study sessions in advance.</p>
                    <button id="createSessionBtn" class="btn-primary" style="margin-bottom: 2rem;">‚ûï Create Session</button>
                    <div id="upcomingSessions" style="margin-bottom: 2rem;"></div>
                    <div id="plannerCalendar"></div>
                    <div id="sessionsList" style="margin-top: 2rem;"></div>

                    <div id="sessionModal" class="session-modal">
                        <div class="modal-content">
                            <span class="modal-close" id="closeModal">&times;</span>
                            <h2>Create Study Session</h2>
                            <form id="sessionForm">
                                <div class="form-group">
                                    <label>Subject:</label>
                                    <input type="text" id="subject" required>
                                </div>
                                <div class="form-group">
                                    <label>Date:</label>
                                    <input type="date" id="sessionDate" required>
                                </div>
                                <div class="form-group">
                                    <label>Time:</label>
                                    <input type="time" id="sessionTime" required>
                                </div>
                                <div class="form-group">
                                    <label>Duration (minutes):</label>
                                    <input type="number" id="duration" min="10" max="480" value="60" required>
                                </div>
                                <div class="form-group">
                                    <label>Session Goals:</label>
                                    <textarea id="sessionGoals" rows="3"></textarea>
                                </div>
                                <button type="submit" class="btn-primary">Create Session</button>
                            </form>
                        </div>
                    </div>
                `;
            }
        });

        // Request notification permission
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission();
        }
    </script>
</body>
</html>
